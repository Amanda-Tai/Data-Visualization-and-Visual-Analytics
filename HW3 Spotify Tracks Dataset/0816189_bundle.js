(function (d3$1) {
  'use strict';

  const dropdownMenu = (selection, props) => {
  	const {
    	options,
      onOptionClicked,
      selectedOption
    } = props;
    
    let select = selection.selectAll('select').data([null]);
    select = select.enter().append('select')
      .merge(select)
    	.on('change', function() {
      		onOptionClicked(this.value);
    	});
    
    const option = select.selectAll('option').data(options);
    option.enter().append('option')
    	.merge(option)
    	.attr('value', d => d)
    	.property('selected', d => d === selectedOption)
    	.text(d => d);
  };

  const width = document.body.clientWidth;
  const height = document.body.clientHeight;
  const margin = { top: 50, right: 80, bottom:80, left: 80};
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const svg = d3$1.select('svg')
    .attr('width', width)
    .attr('height', height);

  const selectedData = [
  'popularity',
  'duration_ms',
  'danceability',
  'energy',
  'key',
  'loudness',
  'speechiness',
  'acousticness',
  'instrumentalness',
  'liveness',
  'valence',
  'tempo'
  ];

  const presentationData = [
    'count',
    'percentage'
  ];

const barNumchoice = [
	5,
  10,
  15,
  20,
25,
30,
35,
40,
45,
50
];

  let data;
  let column;
  const onXMenuClicked = column_ => {
  	column = column_;
    render();
  };

  let presentation;
  const onYMenuClicked = presentation_ => {
  	presentation = presentation_;
    render();
  };

  let bar_num;
  const onBarNumClicked = bar_num_ => {
  	bar_num = +bar_num_;
    console.log(bar_num);
    render();
  };

  const render = () => {
    d3$1.select('#x-menu')
    .call(dropdownMenu, {
      options: selectedData,
      onOptionClicked: onXMenuClicked,
      selectedOption: column
    }); 
    
    d3$1.select('#y-menu')
    .call(dropdownMenu, {
      options: presentationData,
      onOptionClicked: onYMenuClicked,
      selectedOption: presentation
    }); 
    
    d3$1.select('#bar_num-menu')
    .call(dropdownMenu, {
      options: barNumchoice,
      onOptionClicked: onBarNumClicked,
      selectedOption: bar_num
    }); 
    
    svg.selectAll("*").remove();
    // calculate the x ticks, and x range
    const value = d => d[column];
    let valueMin, valueMax;
    [valueMin, valueMax] = d3$1.extent(data, value);
    let x_ticks = []; // bar_num
    let x_range = []; // bar_num + 1
    let range_l = valueMin;
    let range_u;
    x_range.push(range_l);
    let interval = (valueMax - valueMin) / bar_num;
    for(let i = 1; i <= bar_num; i++) {
    	range_u = Math.round((valueMin + interval * i) *100) /100;
      x_ticks.push(Math.round(((range_l + range_u) / 2) *100) / 100);
      x_range.push(range_u);
      range_l = range_u;
    }
    x_range[bar_num] = valueMax;
    
    // count the number of item in the x range
    let x_range_cnt = Array(bar_num).fill(0);
    data.forEach(d => {
    	for(let i=0; i< bar_num; i++) {
      	if(value(d) <= x_range[i+1]) {
        	x_range_cnt[i] += 1;
          break;
        }
      }
    });
    
    if(presentation === 'percentage') {
    	let total = x_range_cnt.reduce((accumulator, num) => accumulator + num);
      x_range_cnt.forEach((d, i) => x_range_cnt[i] = Math.round(d/total*1000)/10);
    }
    const xScale = d3$1.scaleBand()
    
      .domain(x_ticks)
      .range([0, innerWidth])
      .padding(0.1);
    
    const yScale = d3$1.scaleLinear()
      .domain(d3$1.extent(x_range_cnt))
      .range([innerHeight, 0]);
    
    const g = svg.append('g')
    	.attr('transform', `translate(${margin.left}, ${margin.top})`);
    
    const yAxisTickFormat = number => { 
      if(presentation === 'percentage') {
      	number += '%';
      }
      return number;
    };
    const yAxis = d3$1.axisLeft(yScale)
    	.tickFormat(yAxisTickFormat)
    	//.tickLine(white)
    	.tickSize(-innerWidth);
    
    const yAxisG = g.append('g')
    	.call(yAxis)
    	.select('.domain').remove();
    
    const xAxisG = g.append('g')
    	.call(d3$1.axisBottom(xScale))
    	.attr('transform', `translate(0, ${innerHeight})`)
    	.selectAll('.domain, .tick line')
    	.remove();
    
    const bars = g.selectAll('rect').data(x_range_cnt)
    	.enter().append('rect')
      .attr('x', (d, i) => xScale(x_ticks[i]))
      .attr('y', d => yScale(d)) 
    	.attr('width', xScale.bandwidth())
      .transition() //動態插入開始！
      .duration(1500)
      .delay(function(d, i) { return i * 100; }) //動態插入結束！下面就是告訴他我要長高呀
    	.attr('height', d => innerHeight - yScale(d));
  };

  //read and process file
  d3.csv('http://vis.lab.djosix.com:2020/data/spotify_tracks.csv', d => {
  	 return {
      popularity: d.popularity,
     duration_ms: d.duration_ms,
     danceability: d.danceability,
     energy: d.energy,
     key: d.key,
     //explicit: d.explicit,
     loudness: d.loudness,
     speechiness: d.speechiness,
     acousticness: d.acousticness,
     instrumentalness: d.instrumentalness,
     liveness: d.liveness,
     valence: d.valence,
     tempo: d.tempo
    }
  })
    .then(loadedData => {
    	data = loadedData;
      data.forEach(d => {
  			d['popularity'] = +d['popularity'];
      d['duration_ms'] = +d['duration_ms'];
      d['danceability'] = +d['danceability'];
      d['energy'] = +d['energy'];
      d['key'] = +d['key'];
      //d['explicit'] = +d['explicit'];
      d['loudness'] = +d['loudness'];
      d['speechiness'] = +d['speechiness'];
      d['acousticness'] = +d['acousticness'];
      d['instrumentalness'] = +d['instrumentalness'];
      d['liveness'] = +d['liveness'];
      d['valence'] = +d['valence'];
      d['tempo'] = +d['tempo'];
      });
      column = 'popularity';
      presentation = 'count';
    	bar_num = 50;
      render();
  });

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImRyb3Bkb3duTWVudS5qcyIsImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkcm9wZG93bk1lbnUgPSAoc2VsZWN0aW9uLCBwcm9wcykgPT4ge1xuXHRjb25zdCB7XG4gIFx0b3B0aW9ucyxcbiAgICBvbk9wdGlvbkNsaWNrZWQsXG4gICAgc2VsZWN0ZWRPcHRpb25cbiAgfSA9IHByb3BzO1xuICBcbiAgbGV0IHNlbGVjdCA9IHNlbGVjdGlvbi5zZWxlY3RBbGwoJ3NlbGVjdCcpLmRhdGEoW251bGxdKTtcbiAgc2VsZWN0ID0gc2VsZWN0LmVudGVyKCkuYXBwZW5kKCdzZWxlY3QnKVxuICAgIC5tZXJnZShzZWxlY3QpXG4gIFx0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICBcdFx0b25PcHRpb25DbGlja2VkKHRoaXMudmFsdWUpO1xuICBcdH0pO1xuICBcbiAgY29uc3Qgb3B0aW9uID0gc2VsZWN0LnNlbGVjdEFsbCgnb3B0aW9uJykuZGF0YShvcHRpb25zKTtcbiAgb3B0aW9uLmVudGVyKCkuYXBwZW5kKCdvcHRpb24nKVxuICBcdC5tZXJnZShvcHRpb24pXG4gIFx0LmF0dHIoJ3ZhbHVlJywgZCA9PiBkKVxuICBcdC5wcm9wZXJ0eSgnc2VsZWN0ZWQnLCBkID0+IGQgPT09IHNlbGVjdGVkT3B0aW9uKVxuICBcdC50ZXh0KGQgPT4gZCk7XG59OyIsImltcG9ydCB7IHNlbGVjdCxcblx0XHRcdFx0IGNzdixcbiAgICAgICAgIHNjYWxlTGluZWFyLFxuICAgICAgICAgc2NhbGVCYW5kLFxuICAgICAgICAgZXh0ZW50LFxuICAgICAgICAgYXhpc0JvdHRvbSxcbiAgICAgICAgIGF4aXNMZWZ0XG59IGZyb20gJ2QzJztcblxuaW1wb3J0IHsgZHJvcGRvd25NZW51IH0gZnJvbSAnLi9kcm9wZG93bk1lbnUuanMnO1xuXG5jb25zdCB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XG5jb25zdCBoZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiA1MCwgcmlnaHQ6IDgwLCBib3R0b206ODAsIGxlZnQ6IDgwfTtcbmNvbnN0IGlubmVyV2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuY29uc3QgaW5uZXJIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuY29uc3Qgc3ZnID0gc2VsZWN0KCdzdmcnKVxuICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCk7XG5cbmNvbnN0IHNlbGVjdGVkRGF0YSA9IFtcbiAgJ3BvcHVsYXJpdHknLFxuICAnZHVyYXRpb25fbXMnLFxuICAnZGFuY2VhYmlsaXR5JyxcbiAgJ2VuZXJneScsXG4gICdrZXknXG5dO1xuXG5jb25zdCBwcmVzZW50YXRpb25EYXRhID0gW1xuICAnY291bnQnLFxuICAncGVyY2VudGFnZSdcbl07XG5cbmNvbnN0IGJhck51bWNob2ljZSA9IFtcblx0NSxcbiAgMTAsXG4gIDE1LFxuICAyMFxuXTtcblxubGV0IGRhdGE7XG5sZXQgY29sdW1uO1xuY29uc3Qgb25YTWVudUNsaWNrZWQgPSBjb2x1bW5fID0+IHtcblx0Y29sdW1uID0gY29sdW1uXztcbiAgcmVuZGVyKCk7XG59O1xuXG5sZXQgcHJlc2VudGF0aW9uO1xuY29uc3Qgb25ZTWVudUNsaWNrZWQgPSBwcmVzZW50YXRpb25fID0+IHtcblx0cHJlc2VudGF0aW9uID0gcHJlc2VudGF0aW9uXztcbiAgcmVuZGVyKCk7XG59O1xuXG5sZXQgYmFyX251bTtcbmNvbnN0IG9uQmFyTnVtQ2xpY2tlZCA9IGJhcl9udW1fID0+IHtcblx0YmFyX251bSA9ICtiYXJfbnVtXztcbiAgY29uc29sZS5sb2coYmFyX251bSk7XG4gIHJlbmRlcigpO1xufTtcblxuY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICBzZWxlY3QoJyN4LW1lbnUnKVxuICAuY2FsbChkcm9wZG93bk1lbnUsIHtcbiAgICBvcHRpb25zOiBzZWxlY3RlZERhdGEsXG4gICAgb25PcHRpb25DbGlja2VkOiBvblhNZW51Q2xpY2tlZCxcbiAgICBzZWxlY3RlZE9wdGlvbjogY29sdW1uXG4gIH0pOyBcbiAgXG4gIHNlbGVjdCgnI3ktbWVudScpXG4gIC5jYWxsKGRyb3Bkb3duTWVudSwge1xuICAgIG9wdGlvbnM6IHByZXNlbnRhdGlvbkRhdGEsXG4gICAgb25PcHRpb25DbGlja2VkOiBvbllNZW51Q2xpY2tlZCxcbiAgICBzZWxlY3RlZE9wdGlvbjogcHJlc2VudGF0aW9uXG4gIH0pOyBcbiAgXG4gIHNlbGVjdCgnI2Jhcl9udW0tbWVudScpXG4gIC5jYWxsKGRyb3Bkb3duTWVudSwge1xuICAgIG9wdGlvbnM6IGJhck51bWNob2ljZSxcbiAgICBvbk9wdGlvbkNsaWNrZWQ6IG9uQmFyTnVtQ2xpY2tlZCxcbiAgICBzZWxlY3RlZE9wdGlvbjogYmFyX251bVxuICB9KTsgXG4gIFxuICBzdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgLy8gY2FsY3VsYXRlIHRoZSB4IHRpY2tzLCBhbmQgeCByYW5nZVxuICBjb25zdCB2YWx1ZSA9IGQgPT4gZFtjb2x1bW5dO1xuICBsZXQgdmFsdWVNaW4sIHZhbHVlTWF4O1xuICBbdmFsdWVNaW4sIHZhbHVlTWF4XSA9IGV4dGVudChkYXRhLCB2YWx1ZSk7XG4gIGxldCB4X3RpY2tzID0gW107IC8vIGJhcl9udW1cbiAgbGV0IHhfcmFuZ2UgPSBbXTsgLy8gYmFyX251bSArIDFcbiAgbGV0IHJhbmdlX2wgPSB2YWx1ZU1pbjtcbiAgbGV0IHJhbmdlX3U7XG4gIHhfcmFuZ2UucHVzaChyYW5nZV9sKTtcbiAgbGV0IGludGVydmFsID0gKHZhbHVlTWF4IC0gdmFsdWVNaW4pIC8gYmFyX251bTtcbiAgZm9yKGxldCBpID0gMTsgaSA8PSBiYXJfbnVtOyBpKyspIHtcbiAgXHRyYW5nZV91ID0gTWF0aC5yb3VuZCgodmFsdWVNaW4gKyBpbnRlcnZhbCAqIGkpICoxMDApIC8xMDA7XG4gICAgeF90aWNrcy5wdXNoKE1hdGgucm91bmQoKChyYW5nZV9sICsgcmFuZ2VfdSkgLyAyKSAqMTAwKSAvIDEwMCk7XG4gICAgeF9yYW5nZS5wdXNoKHJhbmdlX3UpO1xuICAgIHJhbmdlX2wgPSByYW5nZV91O1xuICB9XG4gIHhfcmFuZ2VbYmFyX251bV0gPSB2YWx1ZU1heDtcbiAgXG4gIC8vIGNvdW50IHRoZSBudW1iZXIgb2YgaXRlbSBpbiB0aGUgeCByYW5nZVxuICBsZXQgeF9yYW5nZV9jbnQgPSBBcnJheShiYXJfbnVtKS5maWxsKDApO1xuICBkYXRhLmZvckVhY2goZCA9PiB7XG4gIFx0Zm9yKGxldCBpPTA7IGk8IGJhcl9udW07IGkrKykge1xuICAgIFx0aWYodmFsdWUoZCkgPD0geF9yYW5nZVtpKzFdKSB7XG4gICAgICBcdHhfcmFuZ2VfY250W2ldICs9IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgXG4gIGlmKHByZXNlbnRhdGlvbiA9PT0gJ3BlcmNlbnRhZ2UnKSB7XG4gIFx0bGV0IHRvdGFsID0geF9yYW5nZV9jbnQucmVkdWNlKChhY2N1bXVsYXRvciwgbnVtKSA9PiBhY2N1bXVsYXRvciArIG51bSk7XG4gICAgeF9yYW5nZV9jbnQuZm9yRWFjaCgoZCwgaSkgPT4geF9yYW5nZV9jbnRbaV0gPSBNYXRoLnJvdW5kKGQvdG90YWwqMTAwMCkvMTApO1xuICB9XG4gIGNvbnN0IHhTY2FsZSA9IHNjYWxlQmFuZCgpXG4gIFxuICAgIC5kb21haW4oeF90aWNrcylcbiAgICAucmFuZ2UoWzAsIGlubmVyV2lkdGhdKVxuICAgIC5wYWRkaW5nKDAuMSk7XG4gIFxuICBjb25zdCB5U2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgLmRvbWFpbihleHRlbnQoeF9yYW5nZV9jbnQpKVxuICAgIC5yYW5nZShbaW5uZXJIZWlnaHQsIDBdKTtcbiAgXG4gIGNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJylcbiAgXHQuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgKTtcbiAgXG4gIGNvbnN0IHlBeGlzVGlja0Zvcm1hdCA9IG51bWJlciA9PiB7IFxuICAgIGlmKHByZXNlbnRhdGlvbiA9PT0gJ3BlcmNlbnRhZ2UnKSB7XG4gICAgXHRudW1iZXIgKz0gJyUnO1xuICAgIH1cbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG4gIGNvbnN0IHlBeGlzID0gYXhpc0xlZnQoeVNjYWxlKVxuICBcdC50aWNrRm9ybWF0KHlBeGlzVGlja0Zvcm1hdClcbiAgXHQvLy50aWNrTGluZSh3aGl0ZSlcbiAgXHQudGlja1NpemUoLWlubmVyV2lkdGgpO1xuICBcbiAgY29uc3QgeUF4aXNHID0gZy5hcHBlbmQoJ2cnKVxuICBcdC5jYWxsKHlBeGlzKVxuICBcdC5zZWxlY3QoJy5kb21haW4nKS5yZW1vdmUoKTtcbiAgXG4gIGNvbnN0IHhBeGlzRyA9IGcuYXBwZW5kKCdnJylcbiAgXHQuY2FsbChheGlzQm90dG9tKHhTY2FsZSkpXG4gIFx0LmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwgJHtpbm5lckhlaWdodH0pYClcbiAgXHQuc2VsZWN0QWxsKCcuZG9tYWluLCAudGljayBsaW5lJylcbiAgXHQucmVtb3ZlKCk7XG4gIFxuICBjb25zdCBiYXJzID0gZy5zZWxlY3RBbGwoJ3JlY3QnKS5kYXRhKHhfcmFuZ2VfY250KVxuICBcdC5lbnRlcigpLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4geFNjYWxlKHhfdGlja3NbaV0pKVxuICAgIC5hdHRyKCd5JywgZCA9PiB5U2NhbGUoZCkpIFxuICBcdC5hdHRyKCd3aWR0aCcsIHhTY2FsZS5iYW5kd2lkdGgoKSlcbiAgICAudHJhbnNpdGlvbigpIC8vw6XCi8KVw6bChcKLw6bCj8KSw6XChcKlw6nClsKLw6XCp8KLw6/CvMKBXG4gICAgLmR1cmF0aW9uKDE1MDApXG4gICAgLmRlbGF5KGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgKiAxMDA7IH0pIC8vw6XCi8KVw6bChcKLw6bCj8KSw6XChcKlw6fCtcKQw6bCncKfw6/CvMKBw6TCuMKLw6nCncKiw6XCsMKxw6bCmMKvw6XCkcKKw6jCqMK0w6TCu8KWw6bCiMKRw6jCpsKBw6nClcK3w6nCq8KYw6XCkcKAXG4gIFx0LmF0dHIoJ2hlaWdodCcsIGQgPT4gaW5uZXJIZWlnaHQgLSB5U2NhbGUoZCkpXG59O1xuXG4vL3JlYWQgYW5kIHByb2Nlc3MgZmlsZVxuZDMuY3N2KCdkYXRhc2V0LmNzdicsIGQgPT4ge1xuXHQgcmV0dXJuIHtcbiAgICAgcG9wdWxhcml0eTogZC5wb3B1bGFyaXR5LFxuICAgICBkdXJhdGlvbl9tczogZC5kdXJhdGlvbl9tcyxcbiAgICAgZGFuY2VhYmlsaXR5OiBkLmRhbmNlYWJpbGl0eSxcbiAgICAgZW5lcmd5OiBkLmVuZXJneSxcbiAgICAga2V5OiBkLmtleSxcbiAgICAgZXhwbGljaXQ6IGQuZXhwbGljaXQsXG4gIH1cbn0pXG4gIC50aGVuKGxvYWRlZERhdGEgPT4ge1xuICBcdGRhdGEgPSBsb2FkZWREYXRhO1xuICAgIGRhdGEuZm9yRWFjaChkID0+IHtcblx0XHRcdGRbJ3BvcHVsYXJpdHknXSA9ICtkWydwb3B1bGFyaXR5J107XG4gICAgICBkWydkdXJhdGlvbl9tcyddID0gK2RbJ2R1cmF0aW9uX21zJ107XG4gICAgICBkWydkYW5jZWFiaWxpdHknXSA9ICtkWydkYW5jZWFiaWxpdHknXTtcbiAgICAgIGRbJ2VuZXJneSddID0gK2RbJ2VuZXJneSddO1xuICAgICAgZFsna2V5J10gPSArZFsna2V5J107XG4gICAgICBkWydleHBsaWNpdCddID0gK2RbJ2V4cGxpY2l0J107XG4gICAgfSk7XG4gICAgY29sdW1uID0gJ3BvcHVsYXJpdHknO1xuICAgIHByZXNlbnRhdGlvbiA9ICdjb3VudCc7XG4gIFx0YmFyX251bSA9IDEwO1xuICAgIHJlbmRlcigpO1xufSkiXSwibmFtZXMiOlsic2VsZWN0IiwiZXh0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LElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJO0VBQ3RCLEdBQUcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDO0VBQ3RDLE1BQU0sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0VBQzNDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0VBQzdDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0VBQ2pDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQzNCLE1BQU0sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0VBQ3JDLEtBQUssQ0FBQyxDQUFDO0VBQ1AsSUFBSSxNQUFNLEdBQUcsWUFBWSxDQUFDO0VBQzFCLElBQUksWUFBWSxHQUFHLE9BQU8sQ0FBQztFQUMzQixHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUM7RUFD